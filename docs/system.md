# System
In this file, we will introduce our HCD system, including host and kernel.
## System Overview
![](https://i.imgur.com/V0vNf9l.png)
The figure above shows our overall system.  
First, [host](./../src/host) acquires an image (resolution is at most 1920x1080) and sent the image to the [kernel](./../src) (PL side) through AXI-stream interface.  
After the kernel completes the computation, the host receives the result from the kernel through AXI-stream interface, too.  
Finally, the host program shows the result and performance (run time).

## Host
We implement a host program in python ([host](./../src/host)), which can be run by using Jupyter Notebook.  
We also implement HCD using python API ([HCD.py](./../src/host/HCD.py)), which can be run on the CPU. The user can run it to get a golden result.

## Kernel
The figure below shows our kernel flow.  
The mathematical description of the flow can be seen in [background.md](./background.md).  
The illustration of the code can be seen in [optimization.md](./optimization.md). 

<p align="center">
    <img src="https://i.imgur.com/KlJIQhd.png" width=40% />
</p>

## PL Block Diagram
![](https://i.imgur.com/BnUb0a2.png)
The figure above shows our PL block diagram. The inferface in our implementaion is AXI-stream. The main kernel function is HCD_0. Our hardware can be deployed on PYNQ-Z2 board. The block diagram is generated by Vivado 2019.2. 


